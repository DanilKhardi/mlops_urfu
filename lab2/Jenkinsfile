pipeline {
    agent any
    stages {
        stage('Setup Environment') {
            steps {
               sh '''
                   #!/bin/bash
                   virtualenv .venv
                   . .venv/bin/activate
                   pip install -r lab2/requirements.txt
                   echo 'OK'
                   '''
               }
            }
        stage('Generate data') {
            steps {
                echo 'Start generate data'
                sh "pip install numpy"
                sh "python3 lab2/data_creation.py"
                echo 'OK'
            }
        }
        stage('Preprocess model') {
            steps {
                echo 'Start preprocessing model'
                sh "python3 lab2/data_preprocessing.py"
                echo 'OK'
            }
        }
        stage('Preparation model') {
            steps {
                echo 'Start preparation model'
                sh "python3 lab2/data_preparation.py"
                echo 'OK'
            }
        }
        stage('Test model') {
            steps {
                echo 'Start test model'
                sh "python3 lab2/data_preparation.py"
                echo 'OK'
            }
        }
}
}



